<html>
  <head>
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.5/socket.io.min.js"></script>
    <script src="easyrtc/easyrtc.js"></script>
    <script src="https://unpkg.com/networked-aframe/dist/networked-aframe.min.js"></script>
    <!-- Include naf-firebase-adapter *after* networked-aframe -->
    <script src="https://unpkg.com/naf-firebase-adapter/dist/naf-firebase-adapter.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.0.0/firebase.js"></script>
    <script src="./js/hoxel.js"></script>
  </head>
  <body>
    <a-scene
      networked-scene="
      adapter: firebase;
    "
    >
      <a-assets>
        <!-- Templates -->

        <!-- Player -->
        <template id="player-template">
          <a-entity></a-entity>
        </template>

        <!-- Head -->
        <template id="head-template">
          <a-entity class="avatar">
            <a-sphere
              class="head"
              color="#ffffff"
              scale="0.45 0.5 0.4"
            ></a-sphere>
            <a-entity class="face" position="0 0.05 0">
              <a-sphere
                class="eye"
                color="#efefef"
                position="0.16 0.1 -0.35"
                scale="0.12 0.12 0.12"
              >
                <a-sphere
                  class="pupil"
                  color="#000"
                  position="0 0 -1"
                  scale="0.2 0.2 0.2"
                ></a-sphere>
              </a-sphere>
              <a-sphere
                class="eye"
                color="#efefef"
                position="-0.16 0.1 -0.35"
                scale="0.12 0.12 0.12"
              >
                <a-sphere
                  class="pupil"
                  color="#000"
                  position="0 0 -1"
                  scale="0.2 0.2 0.2"
                ></a-sphere>
              </a-sphere>
            </a-entity>
          </a-entity>
        </template>

        <!-- Hand -->
        <template id="hand-template">
          <a-entity>
            <a-box scale="0.1 0.1 0.1"></a-box>
          </a-entity>
        </template>

        <!-- /Templates -->
      </a-assets>

      <a-entity
        id="player"
        networked="template:#player-template;attachTemplateToLocal:false;"
        spawn-in-circle="radius:3"
        wasd-controls
      >
        <a-entity
          camera="userHeight: 1.6"
          look-controls
          networked="template:#head-template;attachTemplateToLocal:false;"
        >
          <a-sphere class="head" random-color visible="false"></a-sphere>
        </a-entity>

        <a-entity
          hand-controls="left"
          networked="template:#hand-template;"
        ></a-entity>
        <a-entity
          hand-controls="right"
          networked="template:#hand-template;"
        ></a-entity>
      </a-entity>
    </a-scene>
    <script src="./js/hoxel-body.js"></script>
  </body>
</html>
